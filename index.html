<!DOCTYPE html>

<html>
<head>
  <title>demo.php</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="public/stylesheets/normalize.css" />
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <a href="https://github.com/bdelespierre/disillusion.php"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

  <div class="container">
    <div class="page">

      <div class="header">
        
          <h1>Disillusion.php</h1>
        

        
      </div>
      
        
        <p>Start by including the lib</p>

        
          <div class='highlight'><pre><span class="keyword">require_once</span> <span class="string">"lib/disillusion.php"</span>;</pre></div>
        
      
        
        <h2 id="a-simple-value">A simple value</h2>

        
      
        
        <p>our tested value</p>

        
          <div class='highlight'><pre><span class="variable">$value</span> = <span class="number">2</span>;</pre></div>
        
      
        
        <p>We expect our value to equal 1</p>

        
          <div class='highlight'><pre>expectation(<span class="number">1</span>);</pre></div>
        
      
        
        <p>Is that so ?</p>

        
          <div class='highlight'><pre>reality(<span class="variable">$value</span>);</pre></div>
        
      
        
        <p>Will display</p>
<blockquote>
<p>Reality defined at line 16 doesn&#39;t match expectation from line 13</p>
</blockquote>
<p>However, reality that match expectation won&#39;t display anything:</p>

        
          <div class='highlight'><pre>expectation(<span class="keyword">true</span>) &amp;&amp; reality(<span class="keyword">true</span>);
expectation(<span class="keyword">new</span> stdClass) &amp;&amp; reality(<span class="keyword">new</span> stdClass);
expectation([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]) &amp;&amp; reality([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</pre></div>
        
      
        
        <p>oh, and I forgot to mention you can chain <strong>expecation</strong> and <strong>reality</strong> calls</p>
<h2 id="expectations-are-stackable">Expectations are stackable</h2>

        
      
        
        <p>Which means you can do more than one expectation before validating them with reality.</p>

        
          <div class='highlight'><pre>expectation(<span class="number">1</span>);
expectation(<span class="number">2</span>);
expectation(<span class="number">3</span>);
reality(<span class="number">3</span>);
reality(<span class="number">2</span>);
reality(<span class="number">1</span>);
reality(<span class="number">0</span>);</pre></div>
        
      
        
        <p>Will display</p>
<blockquote>
<p>Nothing is expected at line 39
because we stacked too few expectations </p>
</blockquote>
<h2 id="works-with-functions">Works with functions</h2>

        
      
        
        
        
          <div class='highlight'><pre>expectation(<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    <span class="keyword">return</span> <span class="string">"foo"</span>;
});

reality(<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    <span class="keyword">return</span> <span class="string">"bar"</span>;
});</pre></div>
        
      
        
        <p>Will display</p>
<blockquote>
<p>Reality defined at line 52 doesn&#39;t match expectation from line 48</p>
</blockquote>
<h2 id="works-with-multiple-value">Works with multiple value</h2>

        
      
        
        
        
          <div class='highlight'><pre>expectation(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);

reality(<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>);</pre></div>
        
      
        
        <p>The above example will display</p>
<blockquote>
<p>Reality defined at line 64 doesn&#39;t match expectation from line 62
because <strong>order counts</strong>.</p>
</blockquote>

        
      
      <div class="fleur">h</div>
    </div>
  </div>
</body>
</html>
